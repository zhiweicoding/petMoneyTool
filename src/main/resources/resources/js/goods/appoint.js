"use strict";define("common/appoint",["jquery","data/intent","widget/dialog/success","md5","common/util","jquery.cookie"],function(e,i,r,t,n){function a(){var n=e("#js-schedule-mobile-number"),a=e(".schedule_phone_source"),c={};e.extend(c,{mobile_number:e.trim(n.val()),car_id:e(".detail-wrapper").data("id"),phone_source:a.val(),token:RRC.csrftoken},o);var u=function(i){if(e("#schedule_modal").find('div[aria-hidden="true"]').trigger("click"),e("#js-verification-modal").fullscreen("hide"),0===i.status){var n=s.successMessage;Array.isArray(n)&&(n=n.map(function(e){return'<p style="margin-bottom: 5px;">'+e+"</p>"}).join(""));var a='<div class="confirm__message">'+n+"</div>";parseInt(RRC.ino,10)&&(a+='<p><a href="/p/10/renrenche_yidigouche" target="_blank">了解异地购车注意事项 ></a></p>'),r("提交成功",a,"//img1.rrcimg.com/dist/pc/images/default-qr-34130988.png"),_fxcmd.push(["trackEvent","event","cvr1",t(c.mobile_number),"1"]),"car-detail"===RRC.pageName&&(RRC.SHOW_DETAIL_LAYER_MASK=!1)}};i(d,c,u,"//img1.rrcimg.com/dist/pc/images/default-qr-34130988.png")}var s={title:"您预约的车辆",successMessage:i.getMessage()},o={},d="",c=e("#js-logged-schedule-modal"),u=function(i,r,t){d=t,i&&(o=i),r&&e.extend(s,r)},l=function(){c.find(".dialog-title").text(s.title),c.find(".form-wrapper .error").hide(),s.carTitle&&c.find(".title").text(s.carTitle),c.fullscreen("show")};return e("body").on("click","#js-schedule_submit",function(){var i=e("#js-schedule-mobile-number");return i.val()&&"true"!==i.data("error")?(c.fullscreen("hide"),void a()):void i.focus()}),e("#js-schedule-mobile-number").on("focus",function(){e(this).data("editing","true")}).on("change",function(){e(this).data("editing","true")}).on("blur",function(){e(this).data("editing","false"),e(this).parent().removeClass("error"),e(this).data("error","false");var i=e.trim(e(this).val());i?n.isMobile(i)?e(this).parent().find(".error").hide():(e(this).parent().addClass("error"),e(this).data("error","true"),e(this).parent().find(".error").show()):e(this).parent().find(".error").show()}),{show:l,init:u,intentAppointent:a}});
//# sourceMappingURL=appoint-7069d344.js.map
